<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="430" viewBox="0 0 1400 430">
  <defs>
    <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#e6f3ff"/>
      <stop offset="100%" stop-color="#cfe7ff"/>
    </linearGradient>
    <linearGradient id="g2" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#e8fbe9"/>
      <stop offset="100%" stop-color="#c8efce"/>
    </linearGradient>
    <linearGradient id="g3" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#fff2da"/>
      <stop offset="100%" stop-color="#ffe4ba"/>
    </linearGradient>
    <linearGradient id="g4" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#ffe5ee"/>
      <stop offset="100%" stop-color="#ffd0e1"/>
    </linearGradient>

    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="3" stdDeviation="6" flood-color="#000000" flood-opacity="0.15"/>
    </filter>

    <style>
      .title { font: 700 22px 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Noto Sans', sans-serif; fill: #0f172a; }
      .num   { font: 700 26px 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Noto Sans', sans-serif; fill: #2563eb; }
      .item  { font: 16px 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Noto Sans', sans-serif; fill: #0f172a; }
      .cap   { font: 14px 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Noto Sans', sans-serif; fill: #475569; }
      .arrow { stroke: #64748b; stroke-width: 3; marker-end: url(#arrowHead); }
      .tag   { font: 12px 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Noto Sans', sans-serif; fill: #334155; }
    </style>

    <marker id="arrowHead" markerWidth="10" markerHeight="10" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#64748b" />
    </marker>
  </defs>

  <!-- Box 1 -->
  <rect x="40" y="70" rx="18" ry="18" width="300" height="260" fill="url(#g1)" filter="url(#shadow)"/>
  <text x="70" y="110" class="num">1</text>
  <text x="110" y="110" class="title">환경 설정</text>
  <text x="70" y="150" class="item">• Ollama 설치</text>
  <text x="70" y="180" class="item">• LLaMA3 모델 다운로드</text>
  <text x="70" y="210" class="item">• API 서버 실행</text>
  <text x="70" y="240" class="item">• 환경변수(OPENAI_API_KEY 등)</text>
  <text x="70" y="275" class="cap">출력: 준비 완료</text>

  <!-- Box 2 -->
  <rect x="380" y="70" rx="18" ry="18" width="300" height="260" fill="url(#g2)" filter="url(#shadow)"/>
  <text x="410" y="110" class="num" style="fill:#16a34a;">2</text>
  <text x="450" y="110" class="title">데이터 수집</text>
  <text x="410" y="150" class="item">• PubMed (Entrez) 검색</text>
  <text x="410" y="180" class="item">• Medline 다운로드</text>
  <text x="410" y="210" class="item">• 초록(Abstract) 추출</text>
  <text x="410" y="245" class="cap">스크립트: 01_pubmed_fetching/ …</text>
  <text x="410" y="270" class="cap">출력: ids/, medline/, abstracts/</text>

  <!-- Box 3 -->
  <rect x="720" y="70" rx="18" ry="18" width="300" height="260" fill="url(#g3)" filter="url(#shadow)"/>
  <text x="750" y="110" class="num" style="fill:#f97316;">3</text>
  <text x="790" y="110" class="title">정보 처리</text>
  <text x="750" y="150" class="item">• NER (질병 / 유전자 / 변이)</text>
  <text x="750" y="180" class="item">• 한국어 번역 및 요약</text>
  <text x="750" y="215" class="cap">스크립트: 03_ner_processing/, 05_korean_annotation/</text>
  <text x="750" y="245" class="cap">모델: GPT‑4o‑mini</text>

  <!-- Box 4 -->
  <rect x="1060" y="70" rx="18" ry="18" width="300" height="260" fill="url(#g4)" filter="url(#shadow)"/>
  <text x="1090" y="110" class="num" style="fill:#be185d;">4</text>
  <text x="1130" y="110" class="title">출력 결과</text>
  <text x="1090" y="150" class="item">• ids/</text>
  <text x="1090" y="175" class="item">• medline/</text>
  <text x="1090" y="200" class="item">• abstracts/</text>
  <text x="1090" y="225" class="item">• ner/</text>
  <text x="1090" y="250" class="item">• korean/</text>
  <text x="1090" y="285" class="cap">형식: .txt / .json (PMID 기준)</text>

  <!-- Arrows -->
  <line x1="340" y1="200" x2="380" y2="200" class="arrow"/>
  <line x1="680" y1="200" x2="720" y2="200" class="arrow"/>
  <line x1="1020" y1="200" x2="1060" y2="200" class="arrow"/>

  <!-- Header tag -->
  <rect x="40" y="25" rx="10" ry="10" width="330" height="32" fill="#0ea5e9"/>
  <text x="55" y="46" class="tag" style="fill:white;">LLM 기반 유전변이 해석 시스템 · 전체 구성도</text>
</svg>
